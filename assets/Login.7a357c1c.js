import{V as c,a as f}from"./ValidateInput.58554200.js";import{_,d as B,r as i,a as C,b as E,g as m,w as g,G as h,v as A,u as v,k as p,f as o,x as D}from"./index.6f9a7cbe.js";let b=[{type:"required",message:"\u90AE\u7BB1\u4E0D\u80FD\u4E3A\u7A7A"},{type:"email",message:"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u5BF9"}],V=[{type:"required",message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"},{type:"range",min:{message:"\u4F60\u7684\u5BC6\u7801\u81F3\u5C11\u5305\u62EC\u516D\u4F4D\uFF0C\u4E0D\u80FD\u542B\u6709\u7A7A\u683C",length:6},max:{message:"\u4F60\u7684\u5BC6\u7801\u6700\u591A\u5305\u62EC\u5341\u4F4D\uFF0C\u4E0D\u80FD\u542B\u6709\u7A7A\u683C",length:10}}];const w=B({name:"Login",components:{GlobalHeader:h,ValidateInput:c,ValidateForm:f},setup(){const e=A(),u=v();let d=u.state.user,a=p(""),t=p(""),l=[];return l.push(a),l.push(t),{users:d,emailrules:b,emailRef:a,passwordrules:V,passwordRef:t,onFormSubmit:n=>{if(n){const s={email:a.value,password:t.value};u.dispatch("loginAndFetch",s).then(q=>{l.forEach(F=>{F.value=""}),D("\u767B\u5F55\u6210\u529F,2\u79D2\u540E\u8DF3\u8F6C\u5230\u9996\u9875","success"),setTimeout(()=>{e.push("/")},2e3)})}}}}}),y={class:"login mx-auto p-3 w-330"},R=o("h5",{class:"my-4 text-center"},"\u767B\u5F55\u4E13\u680F",-1),S={class:"mb-3"},$=o("label",{class:"form-label"},"\u90AE\u7BB1\u5730\u5740",-1),k={class:"mb-3"},x=o("label",{class:"form-label"},"\u5BC6\u7801",-1);function L(e,u,d,a,t,l){const r=i("validate-input"),n=i("validate-form");return C(),E("div",y,[R,m(n,{onFormSubmit:e.onFormSubmit},{default:g(()=>[o("div",S,[$,m(r,{rules:e.emailrules,modelValue:e.emailRef,"onUpdate:modelValue":u[0]||(u[0]=s=>e.emailRef=s),placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740",type:"text"},null,8,["rules","modelValue"])]),o("div",k,[x,m(r,{rules:e.passwordrules,modelValue:e.passwordRef,"onUpdate:modelValue":u[1]||(u[1]=s=>e.passwordRef=s),type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["rules","modelValue"])])]),_:1},8,["onFormSubmit"])])}const U=_(w,[["render",L]]);export{U as default};
