import{V as v,a as _}from"./ValidateInput.58554200.js";import{_ as g,d as R,r as E,a as b,b as h,g as r,w,G as V,v as y,u as S,k as m,f as l,x as k}from"./index.6f9a7cbe.js";const q=R({name:"Register",components:{GlobalHeader:V,ValidateInput:v,ValidateForm:_},setup(){const u=y(),e=S();let p=e.state.user,n=m(""),o=m(""),d=m(""),s=m(""),i=[{type:"required",message:"\u90AE\u7BB1\u4E0D\u80FD\u4E3A\u7A7A"},{type:"email",message:"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u5BF9"}],a=[{type:"required",message:"\u540D\u5B57\u4E0D\u80FD\u4E3A\u7A7A"}],f=[{type:"required",message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"},{type:"range",min:{message:"\u4F60\u7684\u5BC6\u7801\u81F3\u5C11\u5305\u62EC\u516D\u4F4D\uFF0C\u4E0D\u80FD\u542B\u6709\u7A7A\u683C",length:6},max:{message:"\u4F60\u7684\u5BC6\u7801\u6700\u591A\u5305\u62EC\u5341\u516D\u4F4D\uFF0C\u4E0D\u80FD\u542B\u6709\u7A7A\u683C",length:16}}],B=[{type:"required",message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"},{type:"repassword",validator:()=>d.value===o.value,message:"\u4E24\u6B21\u5BC6\u7801\u8F93\u5165\u4E0D\u4E00\u81F4"}],t=[];return t.push(n),t.push(o),t.push(d),t.push(s),{users:p,emailrules:i,emailRef:n,passwordrules:f,passwordRef:o,onFormSubmit:c=>{if(c){const D={email:n.value,nickName:s.value,password:o.value};e.dispatch("register",D).then(F=>{console.log(F);const C=F.data.data.column;t.forEach(A=>{A.value=""}),s.value+"",s.value+"",k("\u6CE8\u518C\u6210\u529F\uFF0C\u4E24\u79D2\u540E\u8DF3\u8F6C\u5230\u767B\u9646\u754C\u9762","success"),setTimeout(()=>{u.push("/login")},2e3)})}},RepasswordRules:B,repasswordRef:d,namerules:a,nameRef:s}}}),U={class:"register mx-auto p-3 w-330"},$=l("h5",{class:"my-4 text-center"},"\u6CE8\u518C\u4E13\u680F\u8D26\u6237",-1),N={class:"mb-3"},G=l("label",{class:"form-label"},"\u90AE\u7BB1\u5730\u5740",-1),H={class:"mb-3"},I=l("label",{class:"form-label"},"\u7528\u6237\u540D",-1),M={class:"mb-3"},T=l("label",{class:"form-label"},"\u5BC6\u7801",-1),j={class:"mb-3"},z=l("label",{class:"form-label"},"\u8BF7\u91CD\u65B0\u8F93\u5165\u5BC6\u7801",-1);function J(u,e,p,n,o,d){const s=E("validate-input"),i=E("validate-form");return b(),h("div",U,[$,r(i,{onFormSubmit:u.onFormSubmit},{default:w(()=>[l("div",N,[G,r(s,{placeholder:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u90AE\u7BB1\u5730\u5740",rules:u.emailrules,modelValue:u.emailRef,"onUpdate:modelValue":e[0]||(e[0]=a=>u.emailRef=a),type:"text"},null,8,["rules","modelValue"])]),l("div",H,[I,r(s,{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",rules:u.namerules,modelValue:u.nameRef,"onUpdate:modelValue":e[1]||(e[1]=a=>u.nameRef=a),type:"text"},null,8,["rules","modelValue"])]),l("div",M,[T,r(s,{rules:u.passwordrules,placeholder:"\u5BC6\u7801\u4E3A6-16\u4F4D,\u4E0D\u53EF\u4EE5\u5305\u542B\u7A7A\u683C",modelValue:u.passwordRef,"onUpdate:modelValue":e[2]||(e[2]=a=>u.passwordRef=a),type:"password"},null,8,["rules","modelValue"])]),l("div",j,[z,r(s,{placeholder:"\u4E24\u6B21\u8F93\u5165\u9700\u4FDD\u6301\u4E00\u81F4",rules:u.RepasswordRules,modelValue:u.repasswordRef,"onUpdate:modelValue":e[3]||(e[3]=a=>u.repasswordRef=a),type:"password"},null,8,["rules","modelValue"])])]),_:1},8,["onFormSubmit"])])}const P=g(q,[["render",J]]);export{P as default};
